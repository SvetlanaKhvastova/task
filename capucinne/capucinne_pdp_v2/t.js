if (!document.querySelector(".icon_share")) {
  document.querySelector(".product-page.page-width").insertAdjacentHTML(
    "afterbegin",
    `<p class="icon_share"><svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M0.5 4.9573V15.7242C0.5 15.8764 0.623586 16 0.775861 16H13.4655C13.6177 16 13.7413 15.8764 13.7413 15.7242V12.4138C13.7413 12.2615 13.6177 12.138 13.4655 12.138C13.3132 12.138 13.1896 12.2615 13.1896 12.4138V15.4483H1.05172V4.9573C1.05172 4.80503 0.928136 4.68144 0.775861 4.68144C0.623586 4.68144 0.5 4.80503 0.5 4.9573ZM11.5344 3.27952C10.7438 3.31152 8.463 3.55841 6.53501 5.27813C4.96812 6.67564 3.62219 9.04942 3.53447 13.0974C3.53171 13.2309 3.62468 13.3473 3.75571 13.3738C3.88647 13.4003 4.0175 13.3291 4.06688 13.205C4.06688 13.205 6.26604 7.62157 11.5344 8.4326V11.0428C11.5344 11.1595 11.6078 11.2635 11.7173 11.3027C11.8271 11.3418 11.9496 11.3079 12.0235 11.2177L16.4373 5.83427C16.5209 5.73275 16.5209 5.58627 16.4373 5.48447L12.0235 0.101047C11.9496 0.0108408 11.8271 -0.0230898 11.7173 0.0160825C11.6078 0.0555306 11.5344 0.15953 11.5344 0.275944V3.27952ZM11.7995 3.82737C11.8746 3.83041 11.9474 3.80255 12.0015 3.75069C12.0555 3.69855 12.0862 3.62683 12.0862 3.55179V1.04753L15.8674 5.65937L12.0862 10.2712V8.1995C12.0862 8.06653 11.9913 7.9526 11.8608 7.92833C7.65969 7.14847 5.20977 10.1021 4.1615 11.8315C4.4633 8.75977 5.59046 6.85992 6.90218 5.68971C9.1041 3.72586 11.7995 3.82737 11.7995 3.82737Z" fill="#C1856F"/>
  </svg>
  <span>Share</span></p>`
  );
}

function onClickShare() {
  let iconShare = setInterval(() => {
    if (document.querySelector(".icon_share")) {
      clearInterval(iconShare);
      document.querySelector(".icon_share").addEventListener("click", () => {
        navigator.clipboard.writeText(window.location);

        document.querySelector(".share")?.remove();
        document.querySelector(".icon_share").insertAdjacentHTML(
          "beforeend",
          `<p class="share">
                  <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">
                    <path d="M13.2854 2.15632C13.1911 2.06216 13.0633 2.00928 12.9301 2.00928C12.7968 2.00928 12.669 2.06216 12.5747 2.15632L6.54635 8.16778L4.37135 5.80554C4.28105 5.70753 4.15552 5.64938 4.02237 5.64386C3.88921 5.63835 3.75931 5.68591 3.6612 5.77611C3.61266 5.82081 3.57341 5.87462 3.54568 5.93449C3.51795 5.99436 3.50228 6.0591 3.49957 6.12502C3.49686 6.19094 3.50716 6.25675 3.52989 6.31869C3.55262 6.38063 3.58733 6.43749 3.63203 6.48601L6.1612 9.23289C6.20695 9.28289 6.26236 9.32311 6.32408 9.35113C6.3858 9.37915 6.45255 9.39438 6.52031 9.39591H6.53099C6.66395 9.39585 6.79148 9.34313 6.88568 9.24929L13.2844 2.867C13.3787 2.77289 13.4319 2.64515 13.4321 2.51188C13.4322 2.37861 13.3795 2.25071 13.2854 2.15632Z" fill="#CFBE88"/>
                    <path d="M13.1641 6.49756C13.0308 6.49763 12.903 6.55061 12.8088 6.64486C12.7146 6.73911 12.6617 6.86691 12.6617 7.00016C12.6617 10.122 10.1219 12.6619 7 12.6619C3.87812 12.6619 1.33828 10.122 1.33828 7.00016C1.33828 3.87829 3.87812 1.33844 7 1.33844C7.13325 1.33844 7.26105 1.28553 7.3553 1.19133C7.44955 1.09713 7.50253 0.969354 7.5026 0.8361C7.5026 0.702801 7.44965 0.574962 7.35539 0.480705C7.26113 0.386449 7.13329 0.333496 7 0.333496C3.32395 0.333496 0.333328 3.32412 0.333328 7.00016C0.333328 10.6762 3.32395 13.6668 7 13.6668C10.676 13.6668 13.6667 10.6759 13.6667 7.00016C13.6667 6.86686 13.6137 6.73903 13.5195 6.64477C13.4252 6.55051 13.2974 6.49756 13.1641 6.49756Z" fill="#CFBE88"/>
                  </svg>
                  <span>Link copied</span>
                </p>`
        );
        setTimeout(() => {
          document.querySelector(".share")?.remove();
        }, 3000);
      });
    }
  }, 100);
}
